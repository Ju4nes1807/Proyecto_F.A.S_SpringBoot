<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="shortcut icon" href="/images/Logo.png" type="image/x-icon">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet">
  <title>Editar Jugador</title>
</head>

<body class="d-flex flex-column min-vh-100">
  <div class="navbar navbar-expand bg-primary shadow">
    <a href="#">
      <img src="/images/Logo.png" alt="Logo" class="img-fluid me-2" style="width: 75px; height: 75px;">
    </a>
    <p class="navbar-brand text-light fs-2 shadow">F.A.S</p>
    <div class="collapse navbar-collapse">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item">
          <a th:href="@{/jugadores}" class="nav-link text-light shadow">Regresar</a>
        </li>
      </ul>
    </div>
  </div>

  <div class="container flex-grow-1">
    <div class="row justify-content-center">
      <div class="col-12 col-md-8 col-lg-6">
        <h3 class="mt-5 shadow-sm p-2 text-center bg-white rounded">Editar Jugador</h3>

        <div th:if="${error}" class="alert alert-danger" th:text="${error}"></div>

        <form th:action="@{/jugadores/editar/{id}(id=${jugadorDTO.idUsuario})}" 
              th:object="${jugadorDTO}" method="POST">
          <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />

          <div class="mb-3">
            <label for="nombres" class="form-label">Nombres</label>
            <input type="text" th:field="*{nombres}" id="nombres" 
                   class="form-control" required>
            <div th:if="${#fields.hasErrors('nombres')}" class="text-danger" th:errors="*{nombres}"></div>
          </div>

          <div class="mb-3">
            <label for="apellidos" class="form-label">Apellidos</label>
            <input type="text" th:field="*{apellidos}" id="apellidos" 
                   class="form-control" required>
            <div th:if="${#fields.hasErrors('apellidos')}" class="text-danger" th:errors="*{apellidos}"></div>
          </div>

          <div class="mb-3">
            <label for="numDocumento" class="form-label">Número de Documento</label>
            <input type="number" th:field="*{numDocumento}" id="numDocumento" 
                   class="form-control" required>
            <div th:if="${#fields.hasErrors('numDocumento')}" class="text-danger" th:errors="*{numDocumento}"></div>
          </div>

          <div class="mb-3">
            <label for="email" class="form-label">Correo Electrónico</label>
            <input type="email" th:field="*{email}" id="email" 
                   class="form-control" required>
            <div th:if="${#fields.hasErrors('email')}" class="text-danger" th:errors="*{email}"></div>
          </div>

          <div class="mb-3">
            <label for="telefono" class="form-label">Teléfono</label>
            <input type="tel" th:field="*{telefono}" id="telefono" 
                   class="form-control" required>
            <div th:if="${#fields.hasErrors('telefono')}" class="text-danger" th:errors="*{telefono}"></div>
          </div>

          <div class="mb-3">
            <label for="idCategoria" class="form-label">Categoría</label>
            <select th:field="*{idCategoria}" id="idCategoria" class="form-select" required>
              <option value="">Seleccione una categoría</option>
              <option th:each="cat : ${categorias}" 
                      th:value="${cat.idCategoria}" 
                      th:text="${cat.nombre}"
                      th:selected="${cat.idCategoria == jugadorDTO.idCategoria}">
              </option>
            </select>
            <div th:if="${#fields.hasErrors('idCategoria')}" class="text-danger" th:errors="*{idCategoria}"></div>
          </div>

          <div class="mb-3">
            <label for="posicion" class="form-label">Posición</label>
            <input type="text" th:field="*{posicion}" id="posicion" 
                   class="form-control" placeholder="Ej: Delantero, Defensa, Portero" required>
            <div th:if="${#fields.hasErrors('posicion')}" class="text-danger" th:errors="*{posicion}"></div>
          </div>

          <div class="mb-3">
            <label for="numeroCamiseta" class="form-label">Número de Camiseta</label>
            <input type="number" th:field="*{numeroCamiseta}" id="numeroCamiseta" 
                   class="form-control" min="1" max="99" required>
            <div th:if="${#fields.hasErrors('numeroCamiseta')}" class="text-danger" th:errors="*{numeroCamiseta}"></div>
          </div>

          <div class="text-center p-4">
            <button type="submit" class="btn btn-primary fs-6 me-2 shadow">Actualizar Jugador</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <footer class="bg-warning py-3 shadow mt-auto">
    <div class="container text-start d-flex align-items-center shadow">
      <img src="/images/Logo.png" alt="Logo" class="img-fluid me-2" style="width: 75px; height: 75px;">
      <p class="text-dark m-0">© Football Association System. Todos los derechos reservados</p>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>