<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="shortcut icon" href="/images/Logo.png" type="image/x-icon" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
  <title>Mi Escuela - F.A.S Jugador</title>
  <style>
    .footer-content {
      flex-direction: column;
    }

    @media (min-width: 576px) {
      .footer-content {
        flex-direction: row;
      }
    }

    @media (max-width: 767.98px) {
      .sidebar {
        border-right: none !important;
        border-bottom: 1px solid #dee2e6;
        padding-bottom: 1rem;
        margin-bottom: 1rem;
      }
    }
  </style>
</head>

<body class="d-flex flex-column min-vh-100">

  <div class="navbar navbar-expand-md bg-primary shadow mb-4">
    <a th:href="@{/jugador/dashboard}">
      <img src="/images/Logo.png" alt="Logo" class="img-fluid me-2" style="width: 75px; height: 75px" />
    </a>
    <p class="navbar-brand text-light fs-2">F.A.S</p>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navNavbarDropdown">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navNavbarDropdown">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item">
          <a th:href="@{/jugador/perfil/modificar}" class="nav-link text-light shadow">Mi Perfil</a>
        </li>
        <li class="nav-item">
          <form method="POST" th:action="@{/logout}">
            <button type="submit" class="nav-link text-light shadow btn btn-link">Cerrar Sesión</button>
          </form>
        </li>
      </ul>
    </div>
  </div>

  <div class="container-fluid flex-grow-1">
    <div class="row">
      <div class="col-md-3 col-lg-2 sidebar mb-3">
        <h5 class="mb-3 text-primary">Menú Jugador</h5>
        <div class="list-group">
          <a th:href="@{/jugador/dashboard}" class="list-group-item list-group-item-action">Inicio</a>
          <a th:href="@{/jugador/perfil/modificar}" class="list-group-item list-group-item-action">Mi Perfil</a>
          <a href="#" class="list-group-item list-group-item-action">Entrenamientos</a>
          <a th:href="@{/torneos/jugador}" class="list-group-item list-group-item-action">Torneos</a>
          <a th:href="@{/jugador/escuela}" class="list-group-item list-group-item-action active">Mi Escuela</a>
        </div>
      </div>

      <div class="col-md-9 col-lg-10 p-4">
        <h2 class="mb-3">Mi Escuela</h2>

        <div class="card border-warning shadow-sm">
          <div class="card-body bg-light">
            <h4 class="card-title text-primary mb-3">
              <i class="fas fa-school"></i>
              <span th:text="${escuela != null} ? ${escuela.nombre} : 'No asignado'">Nombre de la Escuela</span>
            </h4>

            <div th:if="${escuela != null}">
              <div class="row">
                <div class="col-md-6">
                  <p><strong><i class="fas fa-phone"></i> Teléfono:</strong> <span
                      th:text="${escuela.telefono}">555-1234567</span></p>
                  <p><strong><i class="fas fa-envelope"></i> Correo:</strong> <span
                      th:text="${escuela.email}">contacto@escuela.com</span></p>
                </div>
                <div class="col-md-6" th:if="${ubicaciones != null && !#lists.isEmpty(ubicaciones)}">
                  <p><strong><i class="fas fa-map-marker-alt"></i> Ubicaciones:</strong></p>
                  <ul>
                    <li th:each="ubi : ${ubicaciones}">
                      <span th:text="${ubi.localidad + ' - ' + ubi.barrio}">Localidad - Barrio</span>
                    </li>
                  </ul>
                </div>
              </div>

              <div class="mt-3" th:if="${escuela.lideres != null && !#lists.isEmpty(escuela.lideres)}">
                <p><strong><i class="fas fa-user-tie"></i> Líder:</strong>
                  <span th:text="${escuela.lideres[0].nombres + ' ' + escuela.lideres[0].apellidos}">Nombre del
                    Líder</span>
                </p>
              </div>
            </div>

            <div th:unless="${escuela != null}" class="alert alert-warning">
              <i class="fas fa-exclamation-triangle"></i> No estás asignado a ninguna escuela actualmente.
            </div>
          </div>
        </div>

        <!-- Información adicional del jugador en la escuela -->
        <div class="row mt-4" th:if="${escuela != null}">
          <div class="col-md-6">
            <div class="card">
              <div class="card-header bg-primary text-white">
                <i class="fas fa-info-circle"></i> Tu Información
              </div>
              <div class="card-body">
                <p><strong>Categoría:</strong> <span th:text="${categoria}">-</span></p>
                <p><strong>Rango de Edad:</strong> <span th:text="${rangoEdad}">-</span></p>
                <p><strong>Posición:</strong> <span th:text="${posicion}">-</span></p>
                <p><strong>Número de Camiseta:</strong> <span th:text="${numeroCamiseta}">-</span></p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <footer class="bg-warning py-3 shadow mt-auto">
    <div class="container text-start d-flex align-items-center footer-content shadow">
      <img src="/images/Logo.png" alt="Logo" class="img-fluid me-2" style="width: 75px; height: 75px" />
      <p class="text-dark m-0">© Football Association System. Todos los derechos reservados</p>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>